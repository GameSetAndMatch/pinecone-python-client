[tox]
envlist = flake8,docs
skip_missing_interpreters = true

[testenv]
setenv = HOSTNAME=hostname
deps=
  old_deps_yes: requests==2.19.0
  old_deps_yes: pyyaml==5.4
  old_deps_yes: loguru==0.5.0
  old_deps_yes: typing-extensions==3.7.4
  old_deps_yes: sentry-sdk==1.0.0
  old_deps_yes: dnspython==2.0.0
  old_deps_yes: python_dateutil==2.5.3
  old_deps_yes: urllib3==1.21.1
  -r {toxinidir}/requirements.txt
  -r {toxinidir}/test-requirements.txt
  -r {toxinidir}/requirements-grpc.txt
commands =
  pytest --cov=pinecone --timeout=120 tests/unit {posargs}

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39
    '3.10': py310
    3.11: py311
